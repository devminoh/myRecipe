{"ast":null,"code":"var _jsxFileName = \"/Users/gyeongmin/project/myRecipe/front/components/create/sumnail.tsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\nimport { PlusOutlined } from \"@ant-design/icons\";\nimport { Button } from \"antd\";\nimport React, { useRef } from \"react\";\nimport { Controller } from \"react-hook-form\";\nimport * as style from '../../styles/createStyle';\nexport const Sumnail = ({\n  register,\n  imageUrl,\n  setImageUrl,\n  control\n}) => {\n  // 이미지 업로드\n  const sumImgInput = useRef();\n\n  // const [logoLoading, setLogoLoading] = useState(false);\n  console.log(imageUrl);\n  const handleImgBtnClick = e => {\n    e.preventDefault();\n    sumImgInput.current.click();\n  };\n  const handleImgRemoveBtn = () => {\n    setImageUrl('');\n  };\n  const onImgChange = async e => {\n    // setLogoLoading(true);\n    const formData = new FormData();\n    formData.append('image', e.target.files[0]);\n    setImageUrl(URL.createObjectURL(e.target.files[0]));\n    // setLogoLoading(false);\n  };\n\n  // const [imagePreview, setImagePreview] = useState(\"\");\n  // const image = watch(\"image\");\n  //   useEffect(() => {\n  //     if (image && image.length > 0) {\n  //       const file = image[0];\n  //       setImagePreview(URL.createObjectURL(file));\n  //     }\n  // }, [image]);\n\n  return __jsx(style.SumContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, __jsx(Controller, {\n    control: control,\n    name: \"image\",\n    render: _ref => {\n      let {\n          field: {\n            value,\n            onChange\n          }\n        } = _ref,\n        field = _objectWithoutProperties(_ref.field, [\"value\", \"onChange\"]);\n      return __jsx(\"input\", _extends({}, field, {\n        value: value === null || value === void 0 ? void 0 : value.fileName,\n        onChange: e => {\n          onChange(e.target.files[0]), setImageUrl(URL.createObjectURL(e.target.files[0]));\n        }\n        // onChange={onImgChange}\n        ,\n        type: \"file\",\n        id: \"picture\",\n        accept: \"image/*\",\n        hidden: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }), imageUrl ? __jsx(\"div\", {\n    className: \"afterImg\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    src: imageUrl,\n    alt: imageUrl,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, __jsx(Button, {\n    className: \"deleteImg\",\n    onClick: handleImgRemoveBtn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, \"\\uC81C\\uAC70\"))) : __jsx(\"button\", {\n    onClick: handleImgBtnClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 20\n    }\n  }, __jsx(PlusOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), \"\\uC5C5\\uB85C\\uB4DC\"));\n};","map":{"version":3,"names":["PlusOutlined","Button","React","useRef","Controller","style","Sumnail","register","imageUrl","setImageUrl","control","sumImgInput","console","log","handleImgBtnClick","e","preventDefault","current","click","handleImgRemoveBtn","onImgChange","formData","FormData","append","target","files","URL","createObjectURL","__jsx","SumContainer","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","name","render","_ref","field","value","onChange","_objectWithoutProperties","_extends","type","id","accept","hidden","className","src","alt","onClick"],"sources":["/Users/gyeongmin/project/myRecipe/front/components/create/sumnail.tsx"],"sourcesContent":["import { LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { Button } from \"antd\";\nimport React, { useRef, useState, useEffect } from \"react\";\nimport { Controller } from \"react-hook-form\";\nimport * as style from '../../styles/createStyle';\n\nexport const Sumnail = ({ register, imageUrl, setImageUrl, control }:any) => {\n  \n  // 이미지 업로드\n  const sumImgInput = useRef<any>();\n\n  // const [logoLoading, setLogoLoading] = useState(false);\nconsole.log(imageUrl)\n  const handleImgBtnClick = (e:any) => {\n    e.preventDefault();\n    sumImgInput.current.click();\n  }\n\n  const handleImgRemoveBtn = ()=>{\n    setImageUrl('')\n  }\n\n   const onImgChange = async (e:any) => {\n    // setLogoLoading(true);\n    const formData = new FormData();\n    formData.append('image', e.target.files[0]);\n    setImageUrl(URL.createObjectURL(e.target.files[0]));\n    // setLogoLoading(false);\n  }\n\n  // const [imagePreview, setImagePreview] = useState(\"\");\n  // const image = watch(\"image\");\n  //   useEffect(() => {\n  //     if (image && image.length > 0) {\n  //       const file = image[0];\n  //       setImagePreview(URL.createObjectURL(file));\n  //     }\n  // }, [image]);\n\n  return (\n    <style.SumContainer>\n      <Controller \n        control={control}\n        name={\"image\"}\n        render={({ field: { value, onChange, ...field } }) => {\n              return (\n                <input\n                  {...field}\n                  value={value?.fileName}\n                  onChange={(e: any) => {\n                    onChange(e.target.files[0]), setImageUrl(URL.createObjectURL(e.target.files[0]));\n                  }}\n                  // onChange={onImgChange}\n                  type=\"file\"\n                  id=\"picture\"\n                  accept='image/*'\n                  hidden\n                />\n              );\n            }}\n      />\n        {/* <input\n        // {...register(\"image\")}\n          id=\"picture\"\n          ref={sumImgInput}\n          type=\"file\"\n          className='imgInput'\n          accept='image/*'\n          onChange={onImgChange}\n          hidden\n        /> */}\n        {imageUrl ? <div className=\"afterImg\">\n            <img src={imageUrl} alt={imageUrl} />\n            <div>\n              <Button className=\"deleteImg\" onClick={handleImgRemoveBtn}>제거</Button>\n            </div>\n          </div> : <button onClick={handleImgBtnClick}>\n          {/* <div>{logoLoading ? <LoadingOutlined /> : <PlusOutlined />}</div> */}\n          <PlusOutlined />\n          업로드\n        </button>}\n      </style.SumContainer>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}