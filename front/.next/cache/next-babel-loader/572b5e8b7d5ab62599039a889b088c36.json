{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _this = this,\n  _jsxFileName = \"/Users/gyeongmin/project/myRecipe/front/pages/create.tsx\",\n  _s = $RefreshSig$();\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport * as style from '../styles/createStyle';\nimport { useForm, useFieldArray } from 'react-hook-form';\nvar CreateRecipe = function CreateRecipe() {\n  _s();\n  var _useState = useState(),\n    sumbmitData = _useState[0],\n    setSubmitData = _useState[1];\n  var _useForm = useForm({\n      mode: 'onChange',\n      reValidateMode: 'onChange',\n      defaultValues: {\n        recipes: [{\n          recipe: ''\n        }]\n      }\n    }),\n    register = _useForm.register,\n    handleSubmit = _useForm.handleSubmit,\n    watch = _useForm.watch,\n    control = _useForm.control,\n    _useForm$formState = _useForm.formState,\n    isSubmitting = _useForm$formState.isSubmitting,\n    errors = _useForm$formState.errors;\n\n  //submit\n  var onHandleSubmit = function onHandleSubmit(data) {\n    console.log(data);\n    // axios\n    //   .post(`${api}/topics`, sumbmitData, {\n    //     headers: {\n    //       authorization: `Bearer ${LocalStorage.getItem('accesstoken')}` || `Bearer ${SessionStorage.getItem('accesstoken')}`\n    //     }\n    //   })\n    //   .then((res: AxiosResponse) => {\n    //     console.log('요청 성공!', res);\n    //     router.push(`/readvote?pid=${res.data.data.topicId}`)\n    //   })\n    //   .catch((err: AxiosError) => {\n    //     console.log('요청 실패!', err.message);\n    //   });\n  };\n\n  var confirmSubmit = function confirmSubmit(data) {\n    setSubmitData(data);\n    // setOpenModal((prev) => !prev);\n  };\n\n  //serve\n  var _useState2 = useState(1),\n    serve = _useState2[0],\n    setServe = _useState2[1];\n  // useEffect(() => {\n  //   if (watch().category === '' || errors.category?.message) {\n  //     setCategoryMsg('카테고리를 선택해주세요.');\n  //   } else {\n  //     setCategoryMsg('');\n  //   }\n  // }, [watch('serve')]);\n\n  //레시피\n  var _useFieldArray = useFieldArray({\n      control: control,\n      name: \"recipes\"\n    }),\n    fields = _useFieldArray.fields,\n    append = _useFieldArray.append,\n    remove = _useFieldArray.remove;\n  var addInput = function addInput(e) {\n    e.preventDefault();\n    append({\n      recipe: ''\n    });\n  };\n  return __jsx(\"form\", {\n    onSubmit: handleSubmit(confirmSubmit),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 3\n    }\n  }, __jsx(style.Serve, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, __jsx(style.Select, _extends({\n    defaultValue: \"1\"\n  }, register(\"serve\", {\n    required: '몇인분인가요?'\n  }), {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), __jsx(\"option\", {\n    value: \"1\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"1\"), __jsx(\"option\", {\n    value: \"2\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"2\"), __jsx(\"option\", {\n    value: \"3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"3\"), __jsx(\"option\", {\n    value: \"4\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"4\"), __jsx(\"option\", {\n    value: \"5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"5\"), __jsx(\"option\", {\n    value: \"6\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"6\")), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"\\uC778\\uBD84\")), __jsx(style.LinkSave, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, \"\\uCC38\\uACE0 \\uB9C1\\uD06C:\"), __jsx(\"input\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, \"\\uC7AC\\uB8CC\"), __jsx(\"input\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, \"\\uB808\\uC2DC\\uD53C\"), fields.map(function (field, idx) {\n    return __jsx(style.InputWrapper, {\n      key: field.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 7\n      }\n    }, __jsx(style.AnswerInput, _extends({\n      key: field.id,\n      placeholder: \"\\uB2F5\\uC744 \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n    }, register(\"recipes.\".concat(idx, \".recipe\"), {\n      required: true\n    }), {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }\n    })));\n  }), __jsx(style.PlusInput, {\n    onClick: addInput,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, \"+\")));\n};\n_s(CreateRecipe, \"MakgDB1nU4s1ZLP5L9INW54Q6ek=\", false, function () {\n  return [useForm, useFieldArray];\n});\n_c = CreateRecipe;\nexport default CreateRecipe;\nvar _c;\n$RefreshReg$(_c, \"CreateRecipe\");","map":{"version":3,"names":["React","useState","style","useForm","useFieldArray","CreateRecipe","_s","_useState","sumbmitData","setSubmitData","_useForm","mode","reValidateMode","defaultValues","recipes","recipe","register","handleSubmit","watch","control","_useForm$formState","formState","isSubmitting","errors","onHandleSubmit","data","console","log","confirmSubmit","_useState2","serve","setServe","_useFieldArray","name","fields","append","remove","addInput","e","preventDefault","__jsx","onSubmit","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","Serve","Select","_extends","defaultValue","required","value","LinkSave","map","field","idx","InputWrapper","key","id","AnswerInput","placeholder","concat","PlusInput","onClick","_c","$RefreshReg$"],"sources":["/Users/gyeongmin/project/myRecipe/front/pages/create.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport {Form, Input, Button} from 'antd';\nimport * as style from '../styles/createStyle';\nimport {\n  Controller,\n  useForm,\n  SubmitHandler,\n  useFieldArray,\n} from 'react-hook-form';\nimport axios from 'axios';\n\nexport interface ingredient {\n  ingredient: string;\n}\n\nexport interface categories {\n  category: string;\n}\n\nexport interface recipes {\n  recipe: string;\n}\n\nexport interface Inputs {\n  serve: number;\n  categories: categories[];\n  ingredients: ingredient[];\n  recipes: recipes[];\n}\n\nconst CreateRecipe = () => {\n  const [sumbmitData, setSubmitData] = useState<Inputs>();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    control,\n    formState: { isSubmitting, errors },\n  } = useForm<Inputs>({\n    mode: 'onChange',\n    reValidateMode: 'onChange',\n    defaultValues: {\n      recipes: [{ recipe: '' }],\n    },\n  });\n\n  //submit\n  const onHandleSubmit: SubmitHandler<Inputs> = (data) => {\n    console.log(data)\n    // axios\n    //   .post(`${api}/topics`, sumbmitData, {\n    //     headers: {\n    //       authorization: `Bearer ${LocalStorage.getItem('accesstoken')}` || `Bearer ${SessionStorage.getItem('accesstoken')}`\n    //     }\n    //   })\n    //   .then((res: AxiosResponse) => {\n    //     console.log('요청 성공!', res);\n    //     router.push(`/readvote?pid=${res.data.data.topicId}`)\n    //   })\n    //   .catch((err: AxiosError) => {\n    //     console.log('요청 실패!', err.message);\n    //   });\n  };\n\n  const confirmSubmit: SubmitHandler<Inputs> = (data) =>{\n    setSubmitData(data);\n    // setOpenModal((prev) => !prev);\n  }\n\n  //serve\n  const [serve, setServe] = useState<number>(1);\n  // useEffect(() => {\n  //   if (watch().category === '' || errors.category?.message) {\n  //     setCategoryMsg('카테고리를 선택해주세요.');\n  //   } else {\n  //     setCategoryMsg('');\n  //   }\n  // }, [watch('serve')]);\n\n  //레시피\n  const { fields, append, remove } = useFieldArray({\n    control,\n    name: `recipes`,\n  });\n\n  const addInput = (e: any) => {\n    e.preventDefault();\n    append({ recipe: '' });\n  };\n\n  return(\n  <form  onSubmit={handleSubmit(confirmSubmit)}>\n    {/* serve */}\n    <style.Serve>\n      <style.Select\n        defaultValue=\"1\"\n        {...register(`serve`, {\n          required: '몇인분인가요?',\n        })}\n      >\n        <option value=\"1\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n        <option value=\"5\">5</option>\n        <option value=\"6\">6</option>\n      </style.Select>\n      <div>인분</div>\n    </style.Serve>\n    <style.LinkSave>\n      <div>참고 링크:</div>\n      <input />\n    </style.LinkSave>\n    <div>재료</div>\n    <input />\n    <div>레시피</div>\n    {fields.map((field, idx) => (\n      <style.InputWrapper key={field.id}>\n        <style.AnswerInput\n          key={field.id}\n          placeholder=\"답을 입력해주세요.\"\n          {...register(`recipes.${idx}.recipe`, {\n            required: true,\n          })}\n        />\n        {/* <S.DeleteInput onClick={()=>deleteInput}>x</S.DeleteInput> */}\n      </style.InputWrapper>\n    ))}\n    <style.PlusInput onClick={addInput}>\n      <div>+</div>\n    </style.PlusInput>\n    {/* <style.SumContainer>\n      {contentFileImage && (\n        <style.ContentImg alt=\"detailImg\" src={contentFileImage} />\n      )}\n      <style.UploadDelete>\n        <style.ImgLabel htmlFor=\"detailImage\">\n          <div className=\"noImg\">{contentsImg === '' ? '+' : ''}</div>\n        </style.ImgLabel>\n        <style.SumnailUpload\n          name=\"detailImg\"\n          id=\"detailImage\"\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={changeContentImg}\n        />\n        {contentsImg === '' ? (\n          ''\n        ) : (\n          <style.DeleteSumnaeil onClick={(e:any) => deletedetailFileImage(e)}>\n            삭제\n          </style.DeleteSumnaeil>\n        )}\n      </style.UploadDelete>\n    </style.SumContainer> */}\n  </form>\n  )\n}\n\nexport default CreateRecipe;"],"mappings":"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"},"metadata":{},"sourceType":"module"}