{"ast":null,"code":"import { produce } from 'immer';\nexport const initialState = {\n  mainPosts: [{\n    id: 1,\n    User: {\n      id: 1,\n      nickname: '제로초'\n    },\n    serve: 1,\n    category: '양식',\n    Ingredients: [{\n      name: '박력분 200g'\n    }, {\n      name: '계란 2알'\n    }],\n    image: 'https://src.hidoc.co.kr/image/lib/2020/11/9/1604911318873_0.jpg',\n    Recipes: [{\n      recipe: '1번 레시피'\n    }, {\n      recipe: '2번 레시피'\n    }, {\n      recipe: '3번 레시피'\n    }],\n    link: 'https://www.10000recipe.com/recipe/6895534'\n  }],\n  imagePaths: '',\n  addPostLoading: false,\n  addPostDone: false,\n  addPostError: null,\n  removePostLoading: false,\n  removePostDone: false,\n  removePostError: null\n};\nexport const ADD_POST_REQUEST = \"ADD_POST_REQUEST\";\nexport const ADD_POST_SUCCESS = \"ADD_POST_SUCCESS\";\nexport const ADD_POST_FAILURE = \"ADD_POST_FAILURE\";\nexport const REMOVE_POST_REQUEST = \"REMOVE_POST_REQUEST\";\nexport const REMOVE_POST_SUCCESS = \"REMOVE_POST_SUCCESS\";\nexport const REMOVE_POST_FAILURE = \"REMOVE_POST_FAILURE\";\nexport const addPost = data => ({\n  type: ADD_POST_REQUEST,\n  data\n});\nexport const dummyPost = data => ({\n  id: data.id,\n  User: {\n    id: 1,\n    nickname: 'zerocho'\n  },\n  serve: data.serve,\n  category: data.category,\n  Ingredients: data.ingredients,\n  image: data.image,\n  Recipes: data.recipes,\n  link: 'https://www.10000recipe.com/recipe/6878480'\n});\nconst reducer = (state = initialState, action) => {\n  return produce(state, draft => {\n    switch (action.type) {\n      case ADD_POST_REQUEST:\n        draft.addPostLoading = true;\n        draft.addPostDone = false;\n        draft.addPostError = null;\n        break;\n      case ADD_POST_SUCCESS:\n        draft.addPostLoading = false;\n        draft.addPostDone = true;\n        draft.mainPosts = [dummyPost(action.data), ...state.mainPosts];\n        break;\n      case ADD_POST_FAILURE:\n        draft.addPostLoading = false;\n        draft.addPostError = action.error;\n        break;\n      case REMOVE_POST_REQUEST:\n        draft.removePostLoading = true;\n        draft.removePostDone = false;\n        draft.removePostError = null;\n        break;\n      case REMOVE_POST_SUCCESS:\n        draft.mainPosts = state.mainPosts.filter(v => v.id !== action.data);\n        draft.removePostLoading = false;\n        draft.removePostDone = true;\n        break;\n      case REMOVE_POST_FAILURE:\n        draft.removePostLoading = false;\n        draft.removePostError = action.error;\n        break;\n      default:\n        return state;\n    }\n  });\n};\nexport default reducer;","map":{"version":3,"names":["produce","initialState","mainPosts","id","User","nickname","serve","category","Ingredients","name","image","Recipes","recipe","link","imagePaths","addPostLoading","addPostDone","addPostError","removePostLoading","removePostDone","removePostError","ADD_POST_REQUEST","ADD_POST_SUCCESS","ADD_POST_FAILURE","REMOVE_POST_REQUEST","REMOVE_POST_SUCCESS","REMOVE_POST_FAILURE","addPost","data","type","dummyPost","ingredients","recipes","reducer","state","action","draft","error","filter","v"],"sources":["/Users/gyeongmin/project/myRecipe/front/reducers/post.tsx"],"sourcesContent":["import shortId from 'shortid';\nimport { produce } from 'immer';\n\nexport const initialState = {\n  mainPosts: [{\n    id: 1,\n    User: {\n      id: 1,\n      nickname: '제로초',\n    },\n    serve: 1,\n    category: '양식',\n    Ingredients: [{\n      name: '박력분 200g'\n    },{\n      name: '계란 2알',\n    }],\n    image: 'https://src.hidoc.co.kr/image/lib/2020/11/9/1604911318873_0.jpg',\n    Recipes: [{\n      recipe: '1번 레시피'\n    },{\n      recipe: '2번 레시피'\n    },{\n      recipe: '3번 레시피'\n    }],\n    link: 'https://www.10000recipe.com/recipe/6895534'\n  }],\n  imagePaths: '',\n  addPostLoading: false,\n  addPostDone: false,\n  addPostError: null,\n  removePostLoading: false,\n  removePostDone: false,\n  removePostError: null,\n}\n\nexport const ADD_POST_REQUEST = \"ADD_POST_REQUEST\";\nexport const ADD_POST_SUCCESS = \"ADD_POST_SUCCESS\";\nexport const ADD_POST_FAILURE = \"ADD_POST_FAILURE\";\n\nexport const REMOVE_POST_REQUEST = \"REMOVE_POST_REQUEST\";\nexport const REMOVE_POST_SUCCESS = \"REMOVE_POST_SUCCESS\";\nexport const REMOVE_POST_FAILURE = \"REMOVE_POST_FAILURE\";\n\nexport const addPost = (data: any)=>({\n  type: ADD_POST_REQUEST,\n  data\n})\n\nexport const dummyPost = (data:any)=>({\n  id: data.id,\n  User: {\n    id: 1,\n    nickname: 'zerocho',\n  },\n  serve: data.serve,\n  category: data.category,\n  Ingredients: data.ingredients,\n  image: data.image,\n  Recipes: data.recipes,\n  link: 'https://www.10000recipe.com/recipe/6878480'\n});\n\nconst reducer = (state=initialState, action:any) => {\n  return produce(state, (draft:any) => {\n    switch(action.type){\n      case ADD_POST_REQUEST:\n        draft.addPostLoading = true;\n        draft.addPostDone = false;\n        draft.addPostError = null;\n        break;\n      case ADD_POST_SUCCESS:\n        draft.addPostLoading = false;\n        draft.addPostDone = true;\n        draft.mainPosts = [dummyPost(action.data), ...state.mainPosts];\n        break;\n      case ADD_POST_FAILURE:\n        draft.addPostLoading = false;\n        draft.addPostError = action.error;\n        break;\n      case REMOVE_POST_REQUEST:\n        draft.removePostLoading = true;\n        draft.removePostDone = false;\n        draft.removePostError = null;\n        break;\n      case REMOVE_POST_SUCCESS:\n        draft.mainPosts = state.mainPosts.filter((v)=> v.id !== action.data);\n        draft.removePostLoading = false;\n        draft.removePostDone = true;\n        break;\n      case REMOVE_POST_FAILURE:\n        draft.removePostLoading = false;\n        draft.removePostError = action.error;\n        break;\n      default:\n        return state;\n    }\n  });\n\n};\n\nexport default reducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}