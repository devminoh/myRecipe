{"ast":null,"code":"var _jsxFileName = \"/Users/gyeongmin/project/myRecipe/front/pages/create.tsx\";\nvar __jsx = React.createElement;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport React, { useState } from 'react';\nimport * as style from '../styles/createStyle';\nimport { useForm, useFieldArray } from 'react-hook-form';\nconst CreateRecipe = () => {\n  const {\n    0: sumbmitData,\n    1: setSubmitData\n  } = useState();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    control,\n    formState: {\n      isSubmitting,\n      errors\n    }\n  } = useForm({\n    mode: 'onChange',\n    reValidateMode: 'onChange',\n    defaultValues: {\n      recipes: [{\n        recipe: ''\n      }]\n    }\n  });\n\n  //submit\n  const onHandleSubmit = data => {\n    console.log(data);\n    // axios\n    //   .post(`${api}/topics`, sumbmitData, {\n    //     headers: {\n    //       authorization: `Bearer ${LocalStorage.getItem('accesstoken')}` || `Bearer ${SessionStorage.getItem('accesstoken')}`\n    //     }\n    //   })\n    //   .then((res: AxiosResponse) => {\n    //     console.log('요청 성공!', res);\n    //     router.push(`/readvote?pid=${res.data.data.topicId}`)\n    //   })\n    //   .catch((err: AxiosError) => {\n    //     console.log('요청 실패!', err.message);\n    //   });\n  };\n\n  const confirmSubmit = data => {\n    setSubmitData(data);\n    // setOpenModal((prev) => !prev);\n  };\n\n  //serve\n  const {\n    0: serve,\n    1: setServe\n  } = useState(1);\n  // useEffect(() => {\n  //   if (watch().category === '' || errors.category?.message) {\n  //     setCategoryMsg('카테고리를 선택해주세요.');\n  //   } else {\n  //     setCategoryMsg('');\n  //   }\n  // }, [watch('serve')]);\n\n  //레시피\n  const {\n    fields,\n    append,\n    remove\n  } = useFieldArray({\n    control,\n    name: `recipes`\n  });\n  const addInput = e => {\n    e.preventDefault();\n    append({\n      recipe: ''\n    });\n  };\n  return __jsx(\"form\", {\n    onSubmit: handleSubmit(confirmSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 3\n    }\n  }, __jsx(style.Serve, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, __jsx(style.Select, _extends({\n    defaultValue: \"1\"\n  }, register(`serve`, {\n    required: '몇인분인가요?'\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }\n  }), __jsx(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, \"1\"), __jsx(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"2\"), __jsx(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"3\"), __jsx(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, \"4\"), __jsx(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }, \"5\"), __jsx(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, \"6\")), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, \"\\uC778\\uBD84\")), __jsx(style.LinkSave, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, \"\\uCC38\\uACE0 \\uB9C1\\uD06C:\"), __jsx(\"input\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }, \"\\uC7AC\\uB8CC\"), __jsx(\"input\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 5\n    }\n  }, \"\\uB808\\uC2DC\\uD53C\"), fields.map((field, idx) => __jsx(style.InputWrapper, {\n    key: field.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }\n  }, __jsx(style.AnswerInput, _extends({\n    key: field.id,\n    placeholder: \"\\uB808\\uC2DC\\uD53C\\uB97C \\uC785\\uB825\\uD574\\uC8FC\\uC138\\uC694.\"\n  }, register(`recipes.${idx}.recipe`, {\n    required: true\n  }), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 9\n    }\n  })))), __jsx(style.PlusInput, {\n    onClick: addInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }\n  }, \"+\")));\n};\nexport default CreateRecipe;","map":{"version":3,"names":["React","useState","style","useForm","useFieldArray","CreateRecipe","sumbmitData","setSubmitData","register","handleSubmit","watch","control","formState","isSubmitting","errors","mode","reValidateMode","defaultValues","recipes","recipe","onHandleSubmit","data","console","log","confirmSubmit","serve","setServe","fields","append","remove","name","addInput","e","preventDefault","__jsx","onSubmit","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Serve","Select","_extends","defaultValue","required","value","LinkSave","map","field","idx","InputWrapper","key","id","AnswerInput","placeholder","PlusInput","onClick"],"sources":["/Users/gyeongmin/project/myRecipe/front/pages/create.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport {Form, Input, Button} from 'antd';\nimport * as style from '../styles/createStyle';\nimport {\n  Controller,\n  useForm,\n  SubmitHandler,\n  useFieldArray,\n} from 'react-hook-form';\nimport axios from 'axios';\n\nexport interface ingredient {\n  ingredient: string;\n}\n\nexport interface categories {\n  category: string;\n}\n\nexport interface recipes {\n  recipe: string;\n}\n\nexport interface Inputs {\n  serve: number;\n  categories: categories[];\n  ingredients: ingredient[];\n  recipes: recipes[];\n}\n\nconst CreateRecipe = () => {\n  const [sumbmitData, setSubmitData] = useState<Inputs>();\n  const {\n    register,\n    handleSubmit,\n    watch,\n    control,\n    formState: { isSubmitting, errors },\n  } = useForm<Inputs>({\n    mode: 'onChange',\n    reValidateMode: 'onChange',\n    defaultValues: {\n      recipes: [{ recipe: '' }],\n    },\n  });\n\n  //submit\n  const onHandleSubmit: SubmitHandler<Inputs> = (data) => {\n    console.log(data)\n    // axios\n    //   .post(`${api}/topics`, sumbmitData, {\n    //     headers: {\n    //       authorization: `Bearer ${LocalStorage.getItem('accesstoken')}` || `Bearer ${SessionStorage.getItem('accesstoken')}`\n    //     }\n    //   })\n    //   .then((res: AxiosResponse) => {\n    //     console.log('요청 성공!', res);\n    //     router.push(`/readvote?pid=${res.data.data.topicId}`)\n    //   })\n    //   .catch((err: AxiosError) => {\n    //     console.log('요청 실패!', err.message);\n    //   });\n  };\n\n  const confirmSubmit: SubmitHandler<Inputs> = (data) =>{\n    setSubmitData(data);\n    // setOpenModal((prev) => !prev);\n  }\n\n  //serve\n  const [serve, setServe] = useState<number>(1);\n  // useEffect(() => {\n  //   if (watch().category === '' || errors.category?.message) {\n  //     setCategoryMsg('카테고리를 선택해주세요.');\n  //   } else {\n  //     setCategoryMsg('');\n  //   }\n  // }, [watch('serve')]);\n\n  //레시피\n  const { fields, append, remove } = useFieldArray({\n    control,\n    name: `recipes`,\n  });\n\n  const addInput = (e: any) => {\n    e.preventDefault();\n    append({ recipe: '' });\n  };\n\n  return(\n  <form  onSubmit={handleSubmit(confirmSubmit)}>\n    {/* serve */}\n    <style.Serve>\n      <style.Select\n        defaultValue=\"1\"\n        {...register(`serve`, {\n          required: '몇인분인가요?',\n        })}\n      >\n        <option value=\"1\">1</option>\n        <option value=\"2\">2</option>\n        <option value=\"3\">3</option>\n        <option value=\"4\">4</option>\n        <option value=\"5\">5</option>\n        <option value=\"6\">6</option>\n      </style.Select>\n      <div>인분</div>\n    </style.Serve>\n    <style.LinkSave>\n      <div>참고 링크:</div>\n      <input />\n    </style.LinkSave>\n    <div>재료</div>\n    <input />\n    <div>레시피</div>\n    {fields.map((field, idx) => (\n      <style.InputWrapper key={field.id}>\n        <style.AnswerInput\n          key={field.id}\n          placeholder=\"레시피를 입력해주세요.\"\n          {...register(`recipes.${idx}.recipe`, {\n            required: true,\n          })}\n        />\n        {/* <S.DeleteInput onClick={()=>deleteInput}>x</S.DeleteInput> */}\n      </style.InputWrapper>\n    ))}\n    <style.PlusInput onClick={addInput}>\n      <div>+</div>\n    </style.PlusInput>\n    {/* <style.SumContainer>\n      {contentFileImage && (\n        <style.ContentImg alt=\"detailImg\" src={contentFileImage} />\n      )}\n      <style.UploadDelete>\n        <style.ImgLabel htmlFor=\"detailImage\">\n          <div className=\"noImg\">{contentsImg === '' ? '+' : ''}</div>\n        </style.ImgLabel>\n        <style.SumnailUpload\n          name=\"detailImg\"\n          id=\"detailImage\"\n          type=\"file\"\n          accept=\"image/*\"\n          onChange={changeContentImg}\n        />\n        {contentsImg === '' ? (\n          ''\n        ) : (\n          <style.DeleteSumnaeil onClick={(e:any) => deletedetailFileImage(e)}>\n            삭제\n          </style.DeleteSumnaeil>\n        )}\n      </style.UploadDelete>\n    </style.SumContainer> */}\n  </form>\n  )\n}\n\nexport default CreateRecipe;"],"mappings":"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"},"metadata":{},"sourceType":"module"}